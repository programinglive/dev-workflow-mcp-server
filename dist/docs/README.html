<h1>Development Workflow MCP Server</h1>
<p align="left">
  <a href="https://www.npmjs.com/package/@programinglive/dev-workflow-mcp-server"><img src="https://img.shields.io/npm/v/@programinglive/dev-workflow-mcp-server.svg" alt="npm version"></a>
  <a href="https://www.npmjs.com/package/@programinglive/dev-workflow-mcp-server"><img src="https://img.shields.io/npm/dm/@programinglive/dev-workflow-mcp-server.svg" alt="npm downloads"></a>
  <a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="license: MIT"></a>
</p>

<p>An MCP (Model Context Protocol) server that helps enforce development discipline and workflow best practices. This server acts as your coding conscience, reminding you to follow proper development workflows.</p>
<h2>üéØ Purpose</h2>
<p>This MCP server guides you through a disciplined development workflow:</p>
<ol>
<li><strong>Start Conscious</strong> - Be clear about what you&#39;re coding</li>
<li><strong>Fix/Implement</strong> - Write your code</li>
<li><strong>Create Tests</strong> - Always test your changes</li>
<li><strong>Run Tests</strong> - Tests must pass (GREEN)</li>
<li><strong>Document</strong> - Update documentation</li>
<li><strong>Commit &amp; Push</strong> - Let the server stage, commit, <strong>and push</strong> your changes once verification passes (if you make new edits afterward, the workflow moves back to this step automatically)</li>
<li><strong>Release</strong> - After the push succeeds, record the release details before closing out the task</li>
</ol>
<h2>üöÄ Installation</h2>
<h3>Option 1: Install as Dependency in Your Project (Recommended)</h3>
<p>Each project gets its own isolated workflow state file.</p>
<pre><code class="language-bash">npm install @programinglive/dev-workflow-mcp-server
</code></pre>
<p>This will automatically create a <code>.state/workflow-state.json</code> file in the <strong>project where you ran <code>npm install</code></strong> (using npm&#39;s <code>INIT_CWD</code>), keeping workflow history separate per project. If you&#39;re installing the package itself (inside <code>node_modules</code>), the script skips creation so it never pollutes the shared package directory.</p>
<h3>Option 2: Install from Source</h3>
<pre><code class="language-bash">git clone https://github.com/programinglive/dev-workflow-mcp-server.git
cd dev-workflow-mcp-server
npm install
</code></pre>
<blockquote>
<p><strong>Windows prerequisites:</strong> Installing dependencies from source compiles native modules such as <code>better-sqlite3</code>. Make sure Python 3 (added to PATH) and the Visual Studio Build Tools ‚ÄúDesktop development with C++‚Äù workload are installed before running <code>npm install</code>. Without them, npm will fail with a ‚Äúneed python‚Äù or build error.</p>
</blockquote>
<h3>Option 3: Install on Plesk Hosting</h3>
<p>Plesk supports Node.js applications through its Node.js extension. To deploy the MCP server on a Plesk subscription:</p>
<ol>
<li><strong>Enable Node.js support</strong> ‚Äì Ensure the Plesk administrator has installed the Node.js extension and enabled SSH access for your subscription.</li>
<li><strong>Upload the project</strong> ‚Äì Either clone the repository or upload an archive into the directory you will run it from (e.g., <code>httpdocs/dev-workflow-mcp-server</code>). From SSH you can run:<pre><code class="language-bash">cd httpdocs
git clone https://github.com/programinglive/dev-workflow-mcp-server.git
cd dev-workflow-mcp-server
</code></pre>
</li>
<li><strong>Install dependencies</strong> ‚Äì In Plesk‚Äôs <strong>Node.js</strong> panel use ‚ÄúNPM install‚Äù (or run <code>npm install --production</code> over SSH). Linux hosts already ship the Python/build toolchain required for <code>better-sqlite3</code>; if your plan uses a Windows host, install Python 3 and the Visual Studio Build Tools beforehand or ask your provider to enable them.</li>
<li><strong>Define environment variables</strong> ‚Äì In the Node.js panel add any environment variables you need (for example <code>DEV_WORKFLOW_USER_ID</code> or <code>DEV_WORKFLOW_STATE_FILE</code>). This keeps state files outside the web root if desired.</li>
<li><strong>Configure the application</strong> ‚Äì Set <strong>Application startup file</strong> to <code>index.js</code> and <strong>Application mode</strong> to <code>production</code>. Plesk will run the server with <code>node index.js</code>.</li>
<li><strong>Start/Restart the app</strong> ‚Äì Click ‚ÄúRestart App‚Äù so Plesk launches the MCP server with the new configuration. When you update the code, rerun ‚ÄúNPM install‚Äù and restart.</li>
</ol>
<blockquote>
<p><strong>Tip:</strong> The MCP server communicates over stdio. If you only need it as a CLI tool, you can also run <code>npx @programinglive/dev-workflow-mcp-server</code> directly in an SSH session without keeping it running under the Node.js panel.</p>
</blockquote>
<blockquote>
<p><strong>Important:</strong> MCP clients (Windsurf, Claude Desktop, etc.) must launch the server process locally via stdio. Hosting the dashboard on a public domain does <strong>not</strong> expose the MCP interface. Without SSH or another way to execute <code>node index.js</code> on the server, users cannot connect their MCP clients to the hosted instance.</p>
</blockquote>
<h4>Two Usage Modes</h4>
<ul>
<li><strong>Local (source)</strong>: Point your MCP client to <code>index.js</code>. This runs directly from source and requires no build step. Recommended for MCP usage.</li>
<li><strong>Production (built)</strong>: Run <code>npm run build</code> once to generate <code>dist/</code>. This creates an optimized bundle but isn‚Äôt needed for MCP usage.</li>
</ul>
<h3>3. Configure in Windsurf/Claude Desktop</h3>
<p>Point your MCP client to the server entry point. Replace <code>&lt;PROJECT_ROOT&gt;</code> with the absolute path to this repository on your machine.</p>
<h4>macOS</h4>
<ul>
<li><strong>Windsurf</strong> (<code>~/Library/Application Support/Windsurf/config.json</code>):</li>
</ul>
<pre><code class="language-json">{
  &quot;mcpServers&quot;: {
    &quot;dev-workflow&quot;: {
      &quot;command&quot;: &quot;node&quot;,
      &quot;args&quot;: [&quot;&lt;PROJECT_ROOT&gt;/index.js&quot;]
    }
  }
}
</code></pre>
<ul>
<li><strong>Claude Desktop</strong> (<code>~/Library/Application Support/Claude/claude_desktop_config.json</code>):</li>
</ul>
<pre><code class="language-json">{
  &quot;mcpServers&quot;: {
    &quot;dev-workflow&quot;: {
      &quot;command&quot;: &quot;node&quot;,
      &quot;args&quot;: [&quot;&lt;PROJECT_ROOT&gt;/index.js&quot;]
    }
  }
}
</code></pre>
<h4>Windows</h4>
<ul>
<li><strong>Windsurf</strong> (<code>%APPDATA%\Windsurf\config.json</code>):</li>
</ul>
<pre><code class="language-json">{
  &quot;mcpServers&quot;: {
    &quot;dev-workflow&quot;: {
      &quot;command&quot;: &quot;node&quot;,
      &quot;args&quot;: [&quot;&lt;PROJECT_ROOT&gt;\\index.js&quot;]
    }
  }
}
</code></pre>
<ul>
<li><strong>Claude Desktop</strong> (<code>%APPDATA%\Claude\claude_desktop_config.json</code>):</li>
</ul>
<pre><code class="language-json">{
  &quot;mcpServers&quot;: {
    &quot;dev-workflow&quot;: {
      &quot;command&quot;: &quot;node&quot;,
      &quot;args&quot;: [&quot;&lt;PROJECT_ROOT&gt;\\index.js&quot;]
    }
  }
}
</code></pre>
<h4>Linux</h4>
<ul>
<li><strong>Windsurf</strong> (<code>~/.config/windsurf/config.json</code>):</li>
</ul>
<pre><code class="language-json">{
  &quot;mcpServers&quot;: {
    &quot;dev-workflow&quot;: {
      &quot;command&quot;: &quot;node&quot;,
      &quot;args&quot;: [&quot;&lt;PROJECT_ROOT&gt;/index.js&quot;]
    }
  }
}
</code></pre>
<ul>
<li><strong>Claude Desktop</strong> (<code>~/.config/claude/claude_desktop_config.json</code>):</li>
</ul>
<pre><code class="language-json">{
  &quot;mcpServers&quot;: {
    &quot;dev-workflow&quot;: {
      &quot;command&quot;: &quot;node&quot;,
      &quot;args&quot;: [&quot;&lt;PROJECT_ROOT&gt;/index.js&quot;]
    }
  }
}
</code></pre>
<blockquote>
<p><strong>Note:</strong> On Windows paths in JSON require escaped backslashes (e.g., <code>&quot;C:\\path\\to\\project&quot;</code>).</p>
</blockquote>
<h3>4. Restart Windsurf/Claude Desktop</h3>
<p>After adding the configuration, restart the application to load the MCP server.</p>
<h3>5. Configure in Antigravity</h3>
<p>Antigravity users should configure the MCP server in their <code>mcp_config.json</code>.</p>
<p><strong>Windows:</strong> <code>%APPDATA%\Antigravity\mcp_config.json</code> or <code>C:\Users\&lt;USERNAME&gt;\.gemini\antigravity\mcp_config.json</code></p>
<pre><code class="language-json">{
  &quot;mcpServers&quot;: {
    &quot;dev-workflow&quot;: {
      &quot;command&quot;: &quot;node&quot;,
      &quot;args&quot;: [&quot;&lt;PROJECT_ROOT&gt;\\index.js&quot;]
    }
  }
}
</code></pre>
<p>See <a href="./docs/antigravity/GETTING-STARTED.md">Antigravity Getting Started</a> for detailed instructions and troubleshooting.</p>
<h2>üèóÔ∏è Build System</h2>
<p>This project includes a Vite-based build system for creating optimized distributions.</p>
<h3>Scripts</h3>
<ul>
<li><code>npm run build</code> - Bundle the source into <code>dist/index.mjs</code> for distribution</li>
<li><code>npm run dev</code> - Run in development mode with file watching</li>
<li><code>npm run local</code> - Alias for running from source (same as <code>npm start</code>)</li>
<li><code>npm run web</code> - Launch the lightweight workflow dashboard for browsing task history (see <a href="./docs/web-dashboard.md">Web Dashboard docs</a>)</li>
</ul>
<h4><code>npm run web</code></h4>
<p>This command starts the dashboard defined in <code>web/server.js</code>, giving you a quick view of workflow history and summary statistics.</p>
<pre><code class="language-bash">npm run web
# üåê Dev Workflow Dashboard running at http://localhost:3111
</code></pre>
<ul>
<li><strong>Default port:</strong> 3111 (or the next free port if occupied).</li>
<li><strong>Environment overrides:</strong> Honors <code>PORT</code> (common on hosts like Plesk/Render) or <code>DEV_WORKFLOW_WEB_PORT</code> before falling back to auto-selection.</li>
<li><strong>Query parameter:</strong> <code>?user=&lt;id&gt;</code> lets you inspect another user‚Äôs history (defaults to <code>default</code>).</li>
<li><strong>API endpoints:</strong><ul>
<li><code>GET /api/version</code> ‚Üí current package version from <code>package.json</code> (used by dashboard to display version dynamically).</li>
<li><code>GET /api/summary?user=&lt;id&gt;</code> ‚Üí overall stats for the user.</li>
<li><code>GET /api/history?user=&lt;id&gt;&amp;page=1&amp;pageSize=20&amp;startDate=YYYY-MM-DD&amp;endDate=YYYY-MM-DD</code> ‚Üí paginated task history.</li>
<li><code>GET /api/history-summary?user=&lt;id&gt;&amp;frequency=daily|monthly|yearly</code> ‚Üí aggregated counts over time.</li>
</ul>
</li>
</ul>
<p>Open <code>http://localhost:3111</code> in a browser to view the dashboard UI (<code>web/index.html</code>).</p>
<h3>Build Output</h3>
<p>Running <code>npm run build</code> generates:</p>
<ul>
<li><code>dist/index.mjs</code> - Optimized ES module bundle</li>
<li>Source maps and other build artifacts</li>
<li><code>dist/docs/</code> - Pre-rendered HTML documentation generated from Markdown via <code>scripts/build-docs.js</code></li>
</ul>
<p>The build bundles all source files while externalizing Node.js built-in modules and dependencies, resulting in a single file distribution.</p>
<h3>Usage</h3>
<p>For MCP server usage, point your client at <code>index.js</code> (source) to avoid stdio transport compatibility issues. The built <code>dist/index.mjs</code> is primarily for:</p>
<ul>
<li>npm package distribution</li>
<li>Performance optimization</li>
<li>Embedding in other projects</li>
</ul>
<h3>MCP Tools Registry (Publishing)</h3>
<p>This package is configured for the official MCP Tools Registry using <strong>npm package deployment</strong>:</p>
<ul>
<li><code>package.json</code> declares <code>mcpName: &quot;io.github.programinglive/dev-workflow-mcp-server&quot;</code>.</li>
<li><code>server.json</code> describes the server and links it to the npm package <code>@programinglive/dev-workflow-mcp-server</code>.</li>
</ul>
<p>To publish a new server version to the registry:</p>
<ol>
<li>Release a new npm version (for example):<ul>
<li><code>npm test</code></li>
<li><code>npm run release:patch</code> (runs your existing release pipeline and publishes to npm)</li>
</ul>
</li>
<li>Verify the new version exists on npm:<ul>
<li><code>npm view @programinglive/dev-workflow-mcp-server version</code></li>
</ul>
</li>
<li>Install the MCP publisher CLI (once per machine):<ul>
<li><code>brew install mcp-publisher</code> (or follow the docs at <a href="https://modelcontextprotocol.info/tools/registry/publishing/">https://modelcontextprotocol.info/tools/registry/publishing/</a>)</li>
</ul>
</li>
<li>From this repo root, authenticate and publish:<ul>
<li><code>mcp-publisher login github</code></li>
<li><code>mcp-publisher publish</code></li>
</ul>
</li>
<li>Optionally verify in the registry:<ul>
<li><code>curl &quot;https://registry.modelcontextprotocol.io/v0/servers?search=io.github.programinglive/dev-workflow-mcp-server&quot;</code></li>
</ul>
</li>
</ol>
<h4>PowerShell CLI tip</h4>
<p>When invoking the lightweight CLI from PowerShell, use <code>--%</code> to prevent PowerShell from rewriting JSON arguments, for example:</p>
<pre><code class="language-powershell">node --% index.js call start_task --args &quot;{\&quot;description\&quot;:\&quot;Convert docs to HTML during build\&quot;,\&quot;type\&quot;:\&quot;feature\&quot;}&quot;
</code></pre>
<p>The <code>--%</code> prefix and escaped double quotes ensure the JSON reaches the MCP server unchanged.</p>
<h2>üìÅ Project-Specific Workflow State</h2>
<p>When you install this package in a project, a <code>.state/workflow-state.json</code> file is automatically created in your project root. This file:</p>
<ul>
<li><strong>Stores workflow history</strong> specific to that project</li>
<li><strong>Tracks task progress</strong> independently per project</li>
<li><strong>Should be gitignored</strong> (already in <code>.gitignore</code> by default)</li>
<li><strong>Persists across sessions</strong> so your workflow state is preserved</li>
<li><strong>Stays centralized</strong> even if you run the server from nested build outputs like <code>dist/</code>. The MCP server walks back to the project root (looking for <code>.git</code> or <code>package.json</code>) before reading or writing workflow state, so you never need duplicate copies under build directories.</li>
</ul>
<p>Each project maintains its own isolated workflow history, so you can work on multiple projects without mixing their histories. Within that <code>.state</code> directory, the MCP server automatically creates a unique per-user subdirectory (e.g., <code>.state/users/user-abc123/</code>). The generated identifier persists locally so multiple developers sharing the same repository never clobber each other‚Äôs workflow files. If you prefer a specific name, set <code>DEV_WORKFLOW_USER_ID</code> before launching the server and that value will be used instead of the auto-generated ID.</p>
<h4>Choosing a User ID</h4>
<p>Use cases:</p>
<ol>
<li><p><strong>Let the server choose</strong> ‚Äì Do nothing and the first time you run any MCP tool the server creates <code>.state/users/&lt;random-id&gt;/</code>. The dashboard <code>User ID</code> filter accepts that value (visible in the folder name or in workflow responses).</p>
</li>
<li><p><strong>Set an explicit ID</strong> ‚Äì Before starting the server, export <code>DEV_WORKFLOW_USER_ID</code>:</p>
<pre><code class="language-bash"># macOS/Linux
export DEV_WORKFLOW_USER_ID=alice
node index.js

# Windows PowerShell
$env:DEV_WORKFLOW_USER_ID = &quot;alice&quot;
node index.js
</code></pre>
<p>Now all history for that session lands in <code>.state/users/alice/</code> and the dashboard can be filtered with <code>alice</code>.</p>
</li>
<li><p><strong>Multiple users on one host</strong> ‚Äì Run separate processes (or MCP clients) with different <code>DEV_WORKFLOW_USER_ID</code> values. Each user‚Äôs workflow state remains isolated.</p>
</li>
</ol>
<blockquote>
<p><strong>Tip:</strong> The web dashboard simply reads existing records. Typing a new value into the <code>User ID</code> filter will only return results after a workflow session has written history into <code>.state/users/&lt;that-id&gt;/</code>.</p>
</blockquote>
<h3>Adding to .gitignore</h3>
<p>If you&#39;re using this package, add this to your project&#39;s <code>.gitignore</code>:</p>
<pre><code>.state/
</code></pre>
<p>This keeps workflow state local to each developer&#39;s machine.</p>
<blockquote>
<p><strong>Need to override the location?</strong> Set <code>DEV_WORKFLOW_STATE_FILE=/absolute/path/to/your/project/.state/workflow-state.json</code> before launching the server (or inside your MCP client config). The server will honor that path, letting you keep the package installed centrally while maintaining per-project workflow history.</p>
</blockquote>
<h2>üõ†Ô∏è Available Tools</h2>
<ul>
<li><code>start_task</code> - Begin a new coding task</li>
<li><code>mark_bug_fixed</code> - Mark the feature/bug as fixed (requires tests next)</li>
<li><code>create_tests</code> - Mark that tests have been created</li>
<li><code>skip_tests</code> - Skip tests with justification</li>
<li><code>run_tests</code> - Record test results (must pass to proceed)</li>
<li><code>create_documentation</code> - Mark documentation as created</li>
<li><code>check_ready_to_commit</code> - Verify all steps are complete</li>
<li><code>commit_and_push</code> - Commit and push changes</li>
<li><code>perform_release</code> - Record release details</li>
<li><code>complete_task</code> - Mark task as complete and reset</li>
<li><code>force_complete_task</code> - Force completion with reason</li>
<li><code>drop_task</code> - Abandon current task</li>
<li><code>get_workflow_status</code> - Show current status</li>
<li><code>view_history</code> - View completed tasks</li>
<li><code>continue_workflow</code> - Get next-step guidance</li>
<li><code>rerun_workflow</code> - Reset and restart the current task from the beginning</li>
<li><code>run_full_workflow</code> - Execute every workflow step in sequence with a single command (requires supplying the details for each phase)</li>
</ul>
<h3><code>run_full_workflow</code></h3>
<p>Use this when you already have all the information needed for each workflow phase and want to execute them in one go.</p>
<pre><code class="language-json">{
  &quot;summary&quot;: &quot;Add payment webhooks&quot;,
  &quot;testCommand&quot;: &quot;npm test&quot;,
  &quot;documentationType&quot;: &quot;README&quot;,
  &quot;documentationSummary&quot;: &quot;Document webhook configuration&quot;,
  &quot;commitMessage&quot;: &quot;feat: add payment webhooks&quot;,
  &quot;releaseCommand&quot;: &quot;npm run release:minor&quot;,
  &quot;releaseNotes&quot;: &quot;Release webhook support&quot;,
  &quot;branch&quot;: &quot;feature/payments&quot;,
  &quot;testsPassed&quot;: true,
  &quot;testDetails&quot;: &quot;node --test; 42 tests&quot;,
  &quot;releaseType&quot;: &quot;minor&quot;,
  &quot;preset&quot;: &quot;minor&quot;
}
</code></pre>
<p>The tool will:</p>
<ol>
<li><code>mark_bug_fixed</code> using <code>summary</code></li>
<li><code>create_tests</code></li>
<li><code>run_tests</code> with <code>testsPassed</code>, <code>testCommand</code>, and optional <code>testDetails</code></li>
<li><code>create_documentation</code> with <code>documentationType</code> and <code>documentationSummary</code></li>
<li><code>check_ready_to_commit</code></li>
<li><code>commit_and_push</code> with <code>commitMessage</code> and optional <code>branch</code></li>
<li><code>perform_release</code> with <code>releaseCommand</code>, plus optional <code>releaseNotes</code>, <code>releaseType</code>, and <code>preset</code></li>
<li><code>complete_task</code> reusing <code>commitMessage</code></li>
</ol>
<p>All arguments except the optional flags are required and must be non-empty strings.</p>
<h2>üö´ Releasing Without the Workflow Steps</h2>
<p>The package ships with a release guard (<code>release-wrapper.js</code>) that backs the <code>npm run release:*</code> scripts. The guard refuses to run unless:</p>
<ul>
<li>The current workflow phase is <strong>release</strong></li>
<li><code>check_ready_to_commit</code> and <code>commit_and_push</code> have been completed</li>
<li>A release has not already been recorded for the active task</li>
</ul>
<p>If any requirements are missing, the guard exits with guidance to return to the MCP tools. This prevents accidentally bumping versions or tagging releases outside the managed workflow. To release correctly:</p>
<ol>
<li>Use <code>perform_release {&quot;command&quot;:&quot;patch&quot;}</code> (or <code>minor</code>/<code>major</code>) via the MCP client.</li>
<li>The guard runs automatically, verifies the workflow state, and records the release before letting you finish with <code>complete_task</code>.</li>
</ol>
<h3>Automated npm Publishing</h3>
<p>This repository ships with <code>.github/workflows/npm-publish.yml</code>, which publishes the package to npm whenever a git tag matching <code>v*</code> is pushed (for example, <code>v1.1.14</code>). To enable the workflow:</p>
<ol>
<li>Create an npm automation token with publish rights (<code>npm token create --read-only false</code>).</li>
<li>In the repository settings, add a secret named <strong><code>NPM_TOKEN</code></strong> containing that token.</li>
<li>Ensure your release process pushes tags after running <code>npm run release:&lt;type&gt;</code> so the workflow triggers.</li>
<li>Confirm <code>npm run build</code> succeeds locally; the workflow runs the build before publishing so broken bundles block the release.</li>
<li>GitHub provenance is enabled via <code>npm publish --provenance</code>. Leave GitHub Actions&#39; default OIDC permissions enabled so the job can request an ID token.</li>
<li>Keep the <code>repository.url</code> field in <code>package.json</code> pointing at this GitHub repo. Provenance validation fails if it does not match the repository that built the package.</li>
</ol>
<p>The workflow verifies that the tag version matches <code>package.json</code> before publishing and fails fast if they diverge.</p>
<h2>üõ†Ô∏è Available Tools</h2>
<h3>Tool Argument Requirements</h3>
<p>All tool invocations validate their <code>arguments</code> payload before running:</p>
<ul>
<li>Strings are parsed as JSON and must resolve to an object (key/value pairs).</li>
<li>Passing non-object data (numbers, arrays, plain text) triggers a guidance error.</li>
<li>Missing or malformed arguments safely default to empty input so the tool can respond with actionable reminders.</li>
</ul>
<p>Example (stringified JSON object):</p>
<pre><code>{
  &quot;name&quot;: &quot;start_task&quot;,
  &quot;arguments&quot;: &quot;{\&quot;description\&quot;:\&quot;Add reporting endpoint\&quot;,\&quot;type\&quot;:\&quot;feature\&quot;}&quot;
}
</code></pre>
<h3><code>start_task</code></h3>
<p>Start a new coding task. This is your first step - be conscious about what you&#39;re coding.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>description</code> (string, required): Clear description of what you&#39;re going to code</li>
<li><code>type</code> (enum, required): Type of task - &quot;feature&quot;, &quot;bugfix&quot;, &quot;refactor&quot;, or &quot;other&quot;</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code>Use the start_task tool with:
- description: &quot;Add user authentication to the login page&quot;
- type: &quot;feature&quot;
</code></pre>
<h3><code>mark_bug_fixed</code></h3>
<p>Mark that the bug/feature is fixed. <strong>Reminder: Now you MUST create tests!</strong></p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>summary</code> (string, required): Brief summary of what was fixed/implemented</li>
</ul>
<h3><code>create_tests</code></h3>
<p>Confirm that you&#39;ve created the necessary tests covering your change. Required before recording test results.</p>
<p><strong>Parameters:</strong> <em>none</em></p>
<h3><code>skip_tests</code></h3>
<p>Record an explicit justification when automated tests aren&#39;t feasible. Marks testing as satisfied so you can proceed with documentation and verification, while flagging the task for manual QA.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>reason</code> (string, required): Why automated tests were skipped</li>
</ul>
<h3><code>run_tests</code></h3>
<p>Record test results. <strong>NEVER commit if tests fail!</strong> Only proceed if all tests are green.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>passed</code> (boolean, required): Did all tests pass?</li>
<li><code>testCommand</code> (string, required): The test command that was run</li>
<li><code>details</code> (string, optional): Test results details</li>
</ul>
<p><strong>Example:</strong></p>
<pre><code>Use run_tests with:
- passed: true
- testCommand: &quot;npm test&quot;
- details: &quot;All 15 tests passed&quot;
</code></pre>
<h3><code>create_documentation</code></h3>
<p>Mark that documentation has been created/updated. This is required before committing.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>documentationType</code> (enum, required): &quot;PRD&quot;, &quot;README&quot;, &quot;RELEASE_NOTES&quot;, &quot;inline-comments&quot;, &quot;API-docs&quot;, &quot;changelog&quot;, or &quot;other&quot;</li>
<li><code>summary</code> (string, required): What was documented</li>
</ul>
<h3><code>check_ready_to_commit</code></h3>
<p>Check if all workflow steps are completed and you&#39;re ready to commit &amp; push.</p>
<h3><code>commit_and_push</code></h3>
<p>Automatically run <code>git add</code>, <code>git commit</code>, and <code>git push</code> after the ready check passes.</p>
<p><strong>Auto-detection of primary branch:</strong> If no <code>branch</code> is specified, the tool automatically detects your project&#39;s primary branch by checking for <code>origin/main</code> first, then falling back to <code>origin/master</code>. This eliminates the need to specify the branch parameter for most projects.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>commitMessage</code> (string, required): Conventional commit message to use</li>
<li><code>branch</code> (string, optional): Target branch to push. If omitted, auto-detects primary branch (main or master)</li>
</ul>
<h3><code>perform_release</code></h3>
<p>Record the release after you&#39;ve committed and pushed. Required before you can complete the task.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>command</code> (string, required): Release command that was executed (e.g., <code>npm run release</code>)</li>
<li><code>notes</code> (string, optional): Additional release notes</li>
</ul>
<h3><code>complete_task</code></h3>
<p>Mark the task as complete after successful commit &amp; push. Resets workflow for next task.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>commitMessage</code> (string, required): The commit message used</li>
</ul>
<h3><code>drop_task</code></h3>
<p>Abandon the current task without completing the workflow. Preserves an audit entry with context, then resets the state so you can start fresh.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>reason</code> (string, optional): Additional detail about why the task was dropped</li>
</ul>
<h3><code>get_workflow_status</code></h3>
<p>Get current workflow status and what needs to be done next.</p>
<h3><code>view_history</code></h3>
<p>View workflow history of completed tasks.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>limit</code> (number, optional): Number of recent tasks to show (default: 10)</li>
</ul>
<h2>üìã Available Prompts</h2>
<h3><code>workflow_reminder</code></h3>
<p>Get a complete reminder of the development workflow discipline.</p>
<h3><code>pre_commit_checklist</code></h3>
<p>Get a pre-commit checklist to ensure nothing is missed before committing.</p>
<h2>üîÑ Typical Workflow</h2>
<p>Here&#39;s how you&#39;d use this MCP server in a typical coding session:</p>
<ol>
<li><p><strong>Start your task:</strong></p>
<pre><code>Ask Cascade to use start_task:
&quot;Start a new task: implementing user profile page, type: feature&quot;
</code></pre>
</li>
<li><p><strong>Code your feature/fix</strong></p>
<ul>
<li>Write your code as usual</li>
</ul>
</li>
<li><p><strong>Mark as fixed:</strong></p>
<pre><code>&quot;Mark the feature as fixed: User profile page with avatar and bio completed&quot;
</code></pre>
</li>
<li><p><strong>Create tests:</strong></p>
<ul>
<li>Write your tests</li>
<li>The server will remind you this is mandatory!</li>
</ul>
</li>
<li><p><strong>Run tests:</strong></p>
<pre><code>&quot;Record test results: passed=true, command=&#39;npm test&#39;&quot;
</code></pre>
<ul>
<li>If tests fail, the server will <strong>block</strong> you from proceeding!</li>
</ul>
</li>
<li><p><strong>Document:</strong></p>
<pre><code>&quot;Create documentation: type=README, summary=&#39;Added user profile section to docs&#39;&quot;
</code></pre>
</li>
<li><p><strong>Check readiness:</strong></p>
<pre><code>&quot;Check if I&#39;m ready to commit&quot;
</code></pre>
</li>
<li><p><strong>Commit &amp; Push:</strong></p>
<pre><code>&quot;Commit and push: commitMessage=&#39;feat: add user profile page with tests and docs&#39;&quot;
</code></pre>
</li>
<li><p><strong>Record release:</strong></p>
</li>
</ol>
<pre><code>&quot;Record release: command=&#39;npm run release&#39;, notes=&#39;v1.2.3&#39;&quot;
</code></pre>
<ol start="11">
<li><strong>Complete:</strong></li>
</ol>
<pre><code>&quot;Complete the task with commit message: &#39;feat: add user profile page&#39;&quot;
</code></pre>
<ol start="12">
<li><strong>Drop task (optional):</strong></li>
</ol>
<pre><code>&quot;Drop task: reason=&#39;Switching to a different feature&#39;&quot;
</code></pre>
<h2>üéØ Key Features</h2>
<ul>
<li><strong>Enforces discipline</strong>: Won&#39;t let you skip steps</li>
<li><strong>Test-driven</strong>: Blocks commits if tests fail</li>
<li><strong>Documentation reminder</strong>: Ensures you document your work</li>
<li><strong>State tracking</strong>: Remembers where you are in the workflow</li>
<li><strong>History</strong>: Keeps track of completed tasks</li>
<li><strong>Prompts</strong>: Quick reminders of best practices</li>
</ul>
<h2>üö´ What This Server Prevents</h2>
<ul>
<li>‚ùå Committing without tests</li>
<li>‚ùå Committing with failing tests</li>
<li>‚ùå Committing without documentation</li>
<li>‚ùå Losing track of what you&#39;re working on</li>
<li>‚ùå Skipping important workflow steps</li>
</ul>
<h2>üí° Tips</h2>
<ol>
<li><strong>Always start with <code>start_task</code></strong> - This sets your intention</li>
<li><strong>Never skip tests without justification</strong> - Use <code>skip_tests</code> only when absolutely necessary and document the reason for manual QA</li>
<li><strong>Use <code>get_workflow_status</code></strong> - Check where you are anytime</li>
<li><strong>Review history</strong> - Learn from your past tasks</li>
<li><strong>Follow the prompts</strong> - They contain best practices</li>
</ol>
<h2>üîß Customization</h2>
<p>You can modify the workflow in <code>index.js</code>:</p>
<ul>
<li>Add more workflow phases</li>
<li>Customize reminders</li>
<li>Add integration with your test runner</li>
<li>Add custom validation rules</li>
</ul>
<h2>üìù State Management</h2>
<p>The server maintains state in <code>.state/workflow-state.json</code>:</p>
<ul>
<li>Current phase</li>
<li>Task description</li>
<li>Completion status of each step</li>
<li>History of completed tasks</li>
</ul>
<p>This file is automatically created and managed by the server.
It contains local, machine-specific progress and is ignored by git so each environment can manage its own workflow history without cross-contamination.</p>
<h2>ü§ù Integration with Your Rules</h2>
<p>This MCP server aligns with your existing development rules:</p>
<ul>
<li>‚úÖ Enforces test-first discipline</li>
<li>‚úÖ Prevents commits with failing tests</li>
<li>‚úÖ Reminds about documentation</li>
<li>‚úÖ Tracks workflow state</li>
<li>‚úÖ Maintains history</li>
</ul>
<h2>üìÑ License</h2>
<p>MIT</p>
<h2>üôè Contributing</h2>
<p>Feel free to customize this server to match your specific workflow needs!</p>
<h2>üìú Project Governance</h2>
<ul>
<li><a href="./CODE_OF_CONDUCT.md">Code of Conduct</a></li>
<li><a href="./CONTRIBUTING.md">Contributing Guide</a></li>
<li><a href="./SECURITY.md">Security Policy</a></li>
<li><a href="./LICENSE">License</a></li>
</ul>
