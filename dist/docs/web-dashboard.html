<h1>Dev Workflow Web Dashboard</h1>
<p>Learn how to start and use the Dev Workflow dashboard included with the MCP server. The dashboard exposes project history, summaries, and aggregates through a small Node.js service.</p>
<h2>Prerequisites</h2>
<p>Before launching the dashboard, confirm the following:</p>
<ul>
<li>Node.js 18+ installed (same requirement as the MCP server)</li>
<li>Project dependencies installed with <code>npm install</code></li>
<li>Workflow history stored under <code>.state/</code> (created automatically when using the MCP server)</li>
</ul>
<blockquote>
<p><strong>Plesk users:</strong> follow the <a href="../README.md#option-3-install-on-plesk-hosting">Plesk installation guide</a> first and ensure SSH access is enabled.</p>
</blockquote>
<h2>Features</h2>
<ul>
<li><strong>Task history browser</strong> ‚Äì Paginated list of completed workflow entries.</li>
<li><strong>Summary stats</strong> ‚Äì Counts of tasks by type and recent activity timeline.</li>
<li><strong>Aggregated trends</strong> ‚Äì Daily, monthly, or yearly breakdowns of workflow activity.</li>
<li><strong>Multi-user support</strong> ‚Äì Switch between user identifiers recorded in the <code>.state</code> directory.</li>
</ul>
<h2>Getting Started</h2>
<p>Launch the dashboard from your project directory:</p>
<pre><code class="language-bash">npm run web
</code></pre>
<p>When the server is ready you will see:</p>
<pre><code>üåê Dev Workflow Dashboard running at http://localhost:3111
</code></pre>
<p>Open the URL in your browser. If port 3111 is in use, the script automatically selects a nearby free port.</p>
<h3>Choosing a Port</h3>
<p>Set <code>DEV_WORKFLOW_WEB_PORT</code> to force a specific port:</p>
<pre><code class="language-bash">DEV_WORKFLOW_WEB_PORT=5000 npm run web
</code></pre>
<h3>Selecting a User</h3>
<p>The dashboard defaults to the <code>default</code> user. Append <code>?user=&lt;USER_ID&gt;</code> to view another user‚Äôs data. User IDs map to the subdirectories under <code>.state/users/</code>.</p>
<pre><code>http://localhost:3111/?user=my-teammate
</code></pre>
<h2>Navigation</h2>
<p>The HTML frontend lives in <code>web/index.html</code>. The default UI includes:</p>
<ul>
<li><strong>Summary cards</strong> ‚Äì Total tasks completed and last active date.</li>
<li><strong>Recent tasks table</strong> ‚Äì Paginated entries with task descriptions and timestamps.</li>
<li><strong>Charts</strong> (if script extensions are enabled) ‚Äì Visual trends per frequency selection.</li>
</ul>
<h2>API Reference</h2>
<p>Interact with the dashboard programmatically using the JSON endpoints served by <code>web/server.js</code>.</p>
<h3><code>GET /api/summary</code></h3>
<p>Returns aggregate statistics for a user.</p>
<p><strong>Query parameters</strong></p>
<ul>
<li><code>user</code> <em>(optional, string)</em> ‚Äì User identifier (default <code>default</code>).</li>
</ul>
<p><strong>Response</strong></p>
<pre><code class="language-json">{
  &quot;summary&quot;: {
    &quot;totalTasks&quot;: 12,
    &quot;taskTypes&quot;: { &quot;feature&quot;: 8, &quot;bugfix&quot;: 3, &quot;refactor&quot;: 1 },
    &quot;lastActive&quot;: &quot;2025-10-01T09:25:41.123Z&quot;,
    &quot;recentTasks&quot;: [
      { &quot;description&quot;: &quot;feat: add billing webhooks&quot;, &quot;type&quot;: &quot;feature&quot;, &quot;timestamp&quot;: &quot;2025-10-01T09:25:41.123Z&quot; }
    ],
    &quot;updatedAt&quot;: &quot;2025-10-01T09:30:00.000Z&quot;
  }
}
</code></pre>
<h3><code>GET /api/history</code></h3>
<p>Returns paginated task history.</p>
<p><strong>Query parameters</strong></p>
<ul>
<li><code>user</code> <em>(optional, string)</em> ‚Äì User identifier (default <code>default</code>).</li>
<li><code>page</code> <em>(optional, number)</em> ‚Äì Page number (default <code>1</code>).</li>
<li><code>pageSize</code> <em>(optional, number)</em> ‚Äì Items per page (default <code>20</code>, max <code>100</code>).</li>
<li><code>startDate</code> <em>(optional, string)</em> ‚Äì Filter by ISO date (inclusive).</li>
<li><code>endDate</code> <em>(optional, string)</em> ‚Äì Filter by ISO date (inclusive).</li>
</ul>
<p><strong>Response</strong></p>
<pre><code class="language-json">{
  &quot;entries&quot;: [
    {
      &quot;id&quot;: 42,
      &quot;user_id&quot;: &quot;default&quot;,
      &quot;task_description&quot;: &quot;feat: add reporting endpoint&quot;,
      &quot;task_type&quot;: &quot;feature&quot;,
      &quot;commit_message&quot;: &quot;feat: add reporting endpoint&quot;,
      &quot;timestamp&quot;: &quot;2025-09-30T09:18:00.000Z&quot;
    }
  ],
  &quot;total&quot;: 42,
  &quot;page&quot;: 1,
  &quot;pageSize&quot;: 20
}
</code></pre>
<h3><code>GET /api/history-summary</code></h3>
<p>Returns an array of task counts grouped by period.</p>
<p><strong>Query parameters</strong></p>
<ul>
<li><code>user</code> <em>(optional, string)</em> ‚Äì User identifier (default <code>default</code>).</li>
<li><code>frequency</code> <em>(optional, string)</em> ‚Äì <code>daily</code>, <code>monthly</code>, or <code>yearly</code> (default <code>daily</code>).</li>
<li><code>startDate</code>, <code>endDate</code> <em>(optional, string)</em> ‚Äì Limit range by ISO dates.</li>
</ul>
<p><strong>Response</strong></p>
<pre><code class="language-json">{
  &quot;summary&quot;: [
    { &quot;period&quot;: &quot;2025-09-30&quot;, &quot;count&quot;: 3 },
    { &quot;period&quot;: &quot;2025-09-29&quot;, &quot;count&quot;: 1 }
  ]
}
</code></pre>
<h2>Configuration</h2>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody><tr>
<td><code>DEV_WORKFLOW_WEB_PORT</code></td>
<td>Port for the dashboard</td>
<td><code>3111</code> or next available</td>
</tr>
<tr>
<td><code>DEV_WORKFLOW_USER_ID</code></td>
<td>User identifier when launching via MCP</td>
<td>auto-generated</td>
</tr>
<tr>
<td><code>DEV_WORKFLOW_STATE_FILE</code></td>
<td>Overrides path to workflow state JSON</td>
<td>auto-detected</td>
</tr>
</tbody></table>
<h2>Troubleshooting</h2>
<table>
<thead>
<tr>
<th>Symptom</th>
<th>Fix</th>
</tr>
</thead>
<tbody><tr>
<td>Server fails with <code>better-sqlite3</code> build error</td>
<td>Install Python 3 and build tools (Windows) or ensure SQLite build dependencies exist (Linux/macOS).</td>
</tr>
<tr>
<td>Dashboard shows empty data</td>
<td>Confirm the MCP server has generated <code>.state/users/&lt;user&gt;/workflow-state.json</code> and that the chosen <code>user</code> matches.</td>
</tr>
<tr>
<td>Port already in use</td>
<td>Set <code>DEV_WORKFLOW_WEB_PORT</code> to a free port before running <code>npm run web</code>.</td>
</tr>
</tbody></table>
<h2>Related Topics</h2>
<ul>
<li><a href="../README.md">Main README</a></li>
<li><a href="./state.md">Workflow State Internals</a> <em>(coming soon)</em></li>
<li><a href="../README.md#%F0%9F%9B%A0%EF%B8%8F-available-tools">CLI Tools</a></li>
</ul>
